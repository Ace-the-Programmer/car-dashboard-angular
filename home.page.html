<ion-header>
  <ion-toolbar>
    <ion-title class="toolbar-title">
      Car Dashboard Control Panel
    </ion-title>
    <ion-avatar class="hero-avatar">
      <label>
        <input type="file" hidden (change)="onFileSelected($event)" />
        <ion-img [src]="aceImg" class="hero-img"></ion-img>
      </label>
    </ion-avatar>
  </ion-toolbar>
</ion-header>

<ion-content class="dashboard-bg" scroll-y="true">
  <ion-grid>
    <ion-row>
      <!-- Air Conditioning -->
      <ion-col size="6">
        <ion-card class="control-card ac">
          <ion-card-header>
            <ion-icon name="snow-outline"></ion-icon>
            <ion-card-title>Air Conditioning</ion-card-title>
            <div class="value-indicator" [style.color]="getTextColor('acTemp')">{{dashboard.acTemp}}Â°C</div>
          </ion-card-header>
          <ion-card-content>
            <ion-range
              min="16"
              max="30"
              step="1"
              pin="true"
              [(ngModel)]="dashboard.acTemp"
              [style.--bar-background-active]="getSliderColor('acTemp')"
              [style.--knob-background]="'#00c6ff'"
              (ionChange)="updateValue('acTemp', $event.detail.value !== null && $event.detail.value !== undefined ? +$event.detail.value : undefined)">
            </ion-range>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <!-- Radio Volume -->
      <ion-col size="6">
        <ion-card class="control-card volume">
          <ion-card-header>
            <ion-icon name="volume-high-outline"></ion-icon>
            <ion-card-title>Radio Volume</ion-card-title>
            <div class="value-indicator" [style.color]="getTextColor('radioVolume')">{{dashboard.radioVolume}}</div>
          </ion-card-header>
          <ion-card-content>
            <ion-range
              min="0"
              max="100"
              step="1"
              pin="true"
              [(ngModel)]="dashboard.radioVolume"
              [style.--bar-background-active]="getSliderColor('radioVolume')"
              [style.--knob-background]="'#00ff85'"
              (ionChange)="updateValue('radioVolume', $event.detail.value !== null && $event.detail.value !== undefined ? +$event.detail.value : undefined)">
            </ion-range>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>

    <ion-row>
      <!-- Headlight Brightness -->
      <ion-col size="6">
        <ion-card class="control-card brightness">
          <ion-card-header>
            <ion-icon name="bulb-outline"></ion-icon>
            <ion-card-title>Headlight Brightness</ion-card-title>
            <div class="value-indicator" [style.color]="getTextColor('headlight')">{{dashboard.headlight}}%</div>
          </ion-card-header>
          <ion-card-content>
            <ion-range
              min="0"
              max="100"
              step="1"
              pin="true"
              [(ngModel)]="dashboard.headlight"
              [style.--bar-background-active]="getSliderColor('headlight')"
              [style.--knob-background]="'#ffe259'"
              (ionChange)="updateValue('headlight', $event.detail.value !== null && $event.detail.value !== undefined ? +$event.detail.value : undefined)">
            </ion-range>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <!-- Seat Heating -->
      <ion-col size="6">
        <ion-card class="control-card seat">
          <ion-card-header>
            <ion-icon name="flame-outline"></ion-icon>
            <ion-card-title>Seat Heating</ion-card-title>
            <div class="value-indicator" [style.color]="getTextColor('seatHeating')">{{dashboard.seatHeating}}</div>
          </ion-card-header>
          <ion-card-content>
            <ion-range
              min="0"
              max="5"
              step="1"
              pin="true"
              [(ngModel)]="dashboard.seatHeating"
              [style.--bar-background-active]="getSliderColor('seatHeating')"
              [style.--knob-background]="'#ff512f'"
              (ionChange)="updateValue('seatHeating', $event.detail.value !== null && $event.detail.value !== undefined ? +$event.detail.value : undefined)">
            </ion-range>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
